<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JIRA-SQL Validation Wizard</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">
                    <span class="title-icon">üîç</span>
                    JIRA-SQL Validation Wizard
                </h1>
                <p class="app-subtitle">Automated data validation and verification system</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <div class="wizard-container">
                <!-- Progress Indicator -->
                <div class="progress-indicator">
                    <div class="progress-step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">Sprint Selection</div>
                    </div>
                    <div class="progress-step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">Ticket Review</div>
                    </div>
                    <div class="progress-step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">Validation</div>
                    </div>
                    <div class="progress-step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-label">Results</div>
                    </div>
                </div>

                <!-- Wizard Steps -->
                <div class="wizard-content">
                    <!-- Step 1: Sprint Selection -->
                    <div class="wizard-step active" id="step-1">
                        <div class="step-header">
                            <h2 class="step-title">Sprint Selection</h2>
                            <p class="step-description">Choose whether to work with a new sprint or existing data</p>
                        </div>

                        <div class="step-content">
                            <div class="selection-card clickable-card" id="new-sprint-card">
                                <div class="card-icon">üöÄ</div>
                                <h3 class="card-title">New Sprint</h3>
                                <p class="card-description">Fetch the latest sprint tickets from JIRA</p>
                                <div class="card-action">
                                    <span class="action-text">Fetch Current Sprint</span>
                                    <span class="action-loading" style="display: none;">‚è≥ Fetching...</span>
                                </div>
                            </div>

                            <div class="selection-card" id="load-existing-card">
                                <div class="card-icon">üìÅ</div>
                                <h3 class="card-title">Existing Data</h3>
                                <p class="card-description">Use previously saved sprint data</p>
                                <div class="card-status">
                                    <span class="status-text" id="existing-data-status">Click to load</span>
                                    <span class="status-loading" id="existing-data-loading" style="display: none;">‚è≥
                                        Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Sprint Confirmation -->
                    <div class="wizard-step" id="step-2">
                        <div class="step-header">
                            <h2 class="step-title">Sprint Confirmation</h2>
                            <p class="step-description">Review the fetched sprint data</p>
                        </div>

                        <div class="step-content">
                            <div class="sprint-summary" id="sprint-summary">
                                <!-- Sprint data will be populated here -->
                            </div>

                            <div class="confirmation-actions">
                                <button class="btn btn-success" id="confirm-sprint-btn">
                                    ‚úÖ This looks correct
                                </button>
                                <button class="btn btn-outline" id="back-to-sprint-btn">
                                    ‚Üê Back to Sprint Selection
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: Ticket Review -->
                    <div class="wizard-step" id="step-3">
                        <div class="step-header">
                            <h2 class="step-title">Ticket Review</h2>
                            <p class="step-description">Review all tickets and select validation options</p>
                        </div>

                        <div class="step-content">
                            <div class="tickets-header">
                                <h3>Current Sprint Tickets</h3>
                                <button class="btn btn-secondary" id="add-ticket-btn">
                                    ‚ûï Add Ticket
                                </button>
                            </div>

                            <div class="tickets-container" id="tickets-container">
                                <!-- Tickets will be populated here -->
                            </div>

                            <div class="step-actions">
                                <button class="btn btn-primary" id="proceed-validation-btn">
                                    Proceed to Validation ‚Üí
                                </button>
                                <button class="btn btn-outline" id="back-to-confirmation-btn">
                                    ‚Üê Back to Confirmation
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Step 4: Validation Results -->
                    <div class="wizard-step" id="step-4">
                        <div class="step-header">
                            <h2 class="step-title">Validation Results</h2>
                            <p class="step-description">Review validation results and generate reports</p>
                        </div>

                        <div class="step-content">
                            <div class="results-container" id="results-container">
                                <!-- Results will be populated here -->
                            </div>

                            <div class="step-actions">
                                <button class="btn btn-success" id="generate-report-btn">
                                    üìä Generate Report
                                </button>
                                <button class="btn btn-outline" id="back-to-tickets-btn">
                                    ‚Üê Back to Tickets
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <p>&copy; 2025 JIRA-SQL Validation System. Built with modern web technologies.</p>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p class="loading-text">Processing...</p>
        </div>
    </div>

    <!-- Data Source Modal -->
    <div class="modal-overlay" id="data-source-modal" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">Choose Data Source</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">How would you like to fetch the sprint data?</p>
                <div class="modal-options">
                    <button class="modal-option" id="use-mock-data">
                        <div class="option-icon">üé≠</div>
                        <div class="option-content">
                            <h4>Mock Data</h4>
                            <p>Use sample data for testing and development</p>
                        </div>
                    </button>
                    <button class="modal-option" id="use-real-data">
                        <div class="option-icon">üîó</div>
                        <div class="option-content">
                            <h4>Real Data</h4>
                            <p>Fetch live data from JIRA (requires connection)</p>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Ticket Modal -->
    <div class="modal-overlay" id="add-ticket-modal" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">Add Ticket to Sprint</h3>
                <button class="modal-close" id="add-ticket-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="ticket-search-form">
                    <label for="ticket-number-input">Enter Ticket Number:</label>
                    <div class="input-group">
                        <input type="text" id="ticket-number-input" placeholder="e.g., WTCI-1234" class="ticket-input">
                        <button class="btn btn-primary" id="search-ticket-btn">üîç Search</button>
                    </div>
                </div>

                <div class="ticket-search-results" id="ticket-search-results" style="display: none;">
                    <!-- Search results will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- File Comparison Modal -->
    <div id="file-comparison-modal" class="modal-overlay" style="display: none;">
        <div class="modal-container file-comparison-modal">
            <div class="modal-header">
                <h3 class="modal-title">File Content Comparison</h3>
                <button class="modal-close" id="file-comparison-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="comparison-description">
                    <p>Two files with the same name but different content were found. Please choose which one to keep:
                    </p>
                </div>
                <div class="comparison-container">
                    <div class="comparison-panel">
                        <div class="comparison-header">
                            <h4>Existing File</h4>
                            <span class="file-info" id="existing-file-info"></span>
                        </div>
                        <div class="comparison-content">
                            <pre id="existing-file-content"></pre>
                        </div>
                    </div>
                    <div class="comparison-panel">
                        <div class="comparison-header">
                            <h4>New File</h4>
                            <span class="file-info" id="new-file-info"></span>
                        </div>
                        <div class="comparison-content">
                            <pre id="new-file-content"></pre>
                        </div>
                    </div>
                </div>
                <div class="comparison-actions">
                    <button id="keep-existing-btn" class="btn btn-secondary">
                        Keep Existing File
                    </button>
                    <button id="keep-new-btn" class="btn btn-primary">
                        Keep New File
                    </button>
                    <button id="cancel-comparison-btn" class="btn btn-outline">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>